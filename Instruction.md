## Инструкция по подготовке ВМ c Asterisk

В данной инструкции используется VirtualBox. Вы можете использовать любую среду виртуализации. 

### Подготовка

1. Скачайте *.ova файл виртуальной машины и запустите скаченный файл.

2. Соглашайтесь со всем, что предлагает Virtualbox. Далее в списке виртуальных машин появится Netology_ntw_10.04.

![image](https://user-images.githubusercontent.com/77622076/234555396-dd5928db-9e42-4792-93d8-200c21f5b589.png)

3. Перейдите в режим настройки виртуальной машины: «Настроить»->«Сеть»->«Сетевой мост»:

![image](https://user-images.githubusercontent.com/77622076/234555739-74079b7a-0bde-46ce-b259-9b66cf5cae96.png)

4. После выбора сетевой установки типа подключения «Сетевой мост» убедитесь, что в надстройке «имя» выбран интерфейс физической машины. На интерфейсе доступна сети «Интернет» и желательно ваш домашний роутер осуществляет выдачу DHCP. 

![image](https://user-images.githubusercontent.com/77622076/234558071-7cb1ac45-27a7-4f39-a09f-9d6b7cfb46f6.png)

5. Нажмите «ОК» и запустите виртуальную машину Asterisk_NTW_10-04. Вход осуществляем под пользователем root пароль 1234.

6. Убедитесь, что получили IPv4 адрес с домашнего роутера: для этого введите команду `ip a `

![image](https://user-images.githubusercontent.com/77622076/234559424-59cc6b85-74bd-4eb3-aad2-ed488fbd0c8f.png)

7. Нас интересует интерфейс №2 enp0s3, и его  IPv4 адрес. В случае примера 192.168.3.47.   
Если  в вашей сети отсутствует раздача по DHCP, переходите к этапу 1.

**Важно:**   
1. Наименование интерфейса enp0s3 может отличаться. После перезагрузки виртуальной машины IPv4 адрес может измениться, учитывайте это при дальнейшей настройке.
2. В данной виртуальной машине  может быть не установлен пакет sudo. Можете установить, задав команду `apt install sudo`.

### Этап 1

1. Для настройки статического адреса в Linux почти всегда используется файл лежащий в директории /etc/network/interfaces. Откройте файл для редактирования (так как вы зашли под root, то не используйте sudo) nano /etc/network/interfaces.   
Должно получиться, как на скрине ниже:

![image](https://user-images.githubusercontent.com/77622076/234563403-0b210376-f63d-4114-915b-ac2a608ae342.png)

2. После строки *#The primary network interfaces* удалите весь текст, но запомните название интерфейса enp0s3 (он должен быть одинаковым с интерфесом №2 вывода команды ` ip a `)  и записываем следующее
`
iface eth0 inet static      
address 192.168.1.15      
netmask 255.255.255.0      
gateway 192.168.1.1        
broadcast 192.168.0.255        
dns-nameservers 8.8.8.8       
`

Должно получится такое


